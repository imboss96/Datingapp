#!/bin/bash
# Photo Verification Admin - Installation & Quick Start Guide
# Last Updated: Feb 27, 2026

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘   Photo Verification Admin Dashboard - Installation Guide     â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Colors
GREEN='\033[0;32m'
BLUE='\033[0;34m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo -e "${BLUE}Step 1: Create Test Moderator Account${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "cd backend"
echo "node create-test-moderator.js"
echo ""
echo -e "${GREEN}âœ“ Creates: moderator@test.com / moderator123${NC}"
echo ""

echo -e "${BLUE}Step 2: Start Backend Server${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "cd backend"
echo "npm run dev"
echo ""
echo -e "${GREEN}âœ“ Server runs on: http://localhost:5000${NC}"
echo ""

echo -e "${BLUE}Step 3: Start Frontend (New Terminal)${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "npm run dev"
echo ""
echo -e "${GREEN}âœ“ App runs on: http://localhost:3001${NC}"
echo ""

echo -e "${BLUE}Step 4: Login to App${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Email:    moderator@test.com"
echo "Password: moderator123"
echo ""

echo -e "${BLUE}Step 5: Access Admin Panel${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Click the Shield Icon ğŸ›¡ï¸ (left sidebar)"
echo "2. Select 'Moderator Panel'"
echo "3. Click 'Verifications' tab at the top"
echo ""

echo -e "${BLUE}Step 6: Start Reviewing Photos${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Click a photo in the left panel"
echo "2. Click 'Run AI Analysis'"
echo "3. Review the quality score and recommendations"
echo "4. Click 'Approve' or 'Reject'"
echo ""

echo -e "${YELLOW}ğŸ“š Documentation Files${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo -e "${GREEN}â†’${NC} ADMIN_PHOTO_VERIFICATION_QUICK_START.md"
echo "  Quick reference with visual layouts"
echo ""
echo -e "${GREEN}â†’${NC} ADMIN_PHOTO_VERIFICATION_GUIDE.md"
echo "  Complete setup and usage documentation"
echo ""
echo -e "${GREEN}â†’${NC} PHOTO_VERIFICATION_ADMIN_FEATURES.md"
echo "  Feature overview and technical details"
echo ""
echo -e "${GREEN}â†’${NC} ADMIN_DEPLOYMENT_CHECKLIST.md"
echo "  Pre-launch verification checklist"
echo ""

echo -e "${YELLOW}ğŸ¯ Key Features${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âœ“ Real-time statistics dashboard"
echo "âœ“ AI-powered photo analysis"
echo "âœ“ Face detection and quality scoring"
echo "âœ“ One-click approve/reject workflow"
echo "âœ“ Admin notes and rejection reasons"
echo "âœ“ Auto-refresh capability"
echo "âœ“ Beautiful, intuitive UI"
echo ""

echo -e "${YELLOW}ğŸ”§ Admin Account Options${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Option 1: Create Test Moderator (Fastest)"
echo "  cd backend && node create-test-moderator.js"
echo ""
echo "Option 2: Promote Existing User"
echo "  cd backend && node setup-admin.js your.email@example.com ADMIN"
echo ""
echo "Option 3: Direct Database"
echo "  mongosh"
echo "  use spark-dating"
echo "  db.users.updateOne({email:\"email@example.com\"},{\\$set:{role:\"ADMIN\"}})"
echo ""

echo -e "${YELLOW}ğŸš¨ Troubleshooting${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Problem: Verifications tab not showing"
echo "â†’ Verify user role is ADMIN or MODERATOR"
echo "â†’ Log out and back in"
echo ""
echo "Problem: AI Analysis errors"
echo "â†’ Check Cloudinary API key in .env"
echo "â†’ Restart backend server"
echo ""
echo "Problem: Photos won't load"
echo "â†’ Verify backend running: curl http://localhost:5000/api/health"
echo "â†’ Check browser console (F12) for errors"
echo ""

echo -e "${YELLOW}ğŸ“Š Admin Dashboard Breakdown${NC}"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Header: Title, refresh button, auto-refresh toggle"
echo "Stats:  Pending | Approved | Rejected | Average Time"
echo "Left:   Photo gallery with quality scores"
echo "Right:  Large preview, AI analysis, decision buttons"
echo ""

echo -e "${GREEN}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${GREEN}â•‘  âœ¨ Setup Complete! You're ready to start reviewing photos.   â•‘${NC}"
echo -e "${GREEN}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""
echo "Next step: Run the commands from 'Step 1' above!"
echo ""
